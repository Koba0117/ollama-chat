<!DOCTYPE html>
<html>

<head>
  <title>Ollama Chat</title>
  <script src="https://unpkg.com/htmx.org@1.9.2"
    integrity="sha384-L6OqL9pRWyyFU3+/bjdSri+iIphTN/bvYyM37tICVyOJkWZLpP2vGn6VUEXgzg6h"
    crossorigin="anonymous"></script>

</head>

<body class="container">

  <div>
    <div class="chat-area">
      <ul id="chat">
        {{ block "chat" .}}
        {{ .}}
        {{ end }}
      </ul>
    </div>

    <div>
      <form hx-post="/submit-prompt/" hx-target="#chat" hx-swap="beforeend" hx-indicator="#spinner">
        <div class="prompt-area">
          <textarea rows="2" cols="100" name="form" id="prompt-form"></textarea>

          <button type="submit">
            <span class="htmx-indicator" id="spinner" role="status" aria-hidden="true"></span>
            Submit
          </button>
        </div>
      </form>
    </div>

  </div>

</body>

<style>
  .chat-area {
    height: 90vh;
    border: 1px solid black;
    overflow: auto;
  }

  .prompt-area {
    display: flex;
    justify-content: center;
  }
</style>
